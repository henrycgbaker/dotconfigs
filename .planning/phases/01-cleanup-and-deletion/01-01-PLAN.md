---
phase: 01-cleanup-and-deletion
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - agents/gsd-codebase-mapper.md
  - agents/gsd-debugger.md
  - agents/gsd-executor.md
  - agents/gsd-integration-checker.md
  - agents/gsd-phase-researcher.md
  - agents/gsd-plan-checker.md
  - agents/gsd-planner.md
  - agents/gsd-project-researcher.md
  - agents/gsd-research-synthesizer.md
  - agents/gsd-roadmapper.md
  - agents/gsd-verifier.md
  - commands/gsd/
  - hooks/gsd-statusline.js
  - hooks/gsd-check-update.js
  - hooks/block-sensitive.py
  - settings.json
autonomous: true

must_haves:
  truths:
    - "No GSD agent files exist in the agents/ directory"
    - "No GSD command files exist in the commands/ directory"
    - "The commands/gsd/ directory does not exist"
    - "The block-sensitive.py hook is deleted"
    - "settings.json PreToolUse no longer references block-sensitive.py"
    - "GSD hooks (gsd-statusline.js, gsd-check-update.js) are deleted"
  artifacts:
    - path: "settings.json"
      provides: "Updated hooks config without block-sensitive.py reference"
      contains: '"PreToolUse": []'
    - path: "hooks/post-tool-format.py"
      provides: "Ruff auto-format hook (kept, not deleted)"
    - path: "commands/commit.md"
      provides: "Custom /commit skill (kept, not deleted)"
    - path: "commands/squash-merge.md"
      provides: "Custom /squash-merge skill (kept, not deleted)"
    - path: "commands/pr-review.md"
      provides: "Custom /pr-review skill (kept per locked decision)"
  key_links:
    - from: "settings.json"
      to: "hooks/post-tool-format.py"
      via: "PostToolUse hook reference"
      pattern: "post-tool-format\\.py"
---

<objective>
Delete all GSD framework duplicate files from the dotclaude repo -- agents, commands, and GSD-specific hooks. Also delete the buggy block-sensitive.py hook and remove its reference from settings.json.

Purpose: GSD framework ships its own agents/commands via `npx get-shit-done-cc`. Duplicates in dotclaude waste context and create version drift. block-sensitive.py will be replaced by settings.json deny rules in Phase 3.

Output: Clean agents/, commands/, and hooks/ directories containing only custom/non-GSD files.
</objective>

<execution_context>
@/Users/henrybaker/.claude/get-shit-done/workflows/execute-plan.md
@/Users/henrybaker/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-cleanup-and-deletion/01-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Delete GSD agents and commands</name>
  <files>
    agents/gsd-codebase-mapper.md
    agents/gsd-debugger.md
    agents/gsd-executor.md
    agents/gsd-integration-checker.md
    agents/gsd-phase-researcher.md
    agents/gsd-plan-checker.md
    agents/gsd-planner.md
    agents/gsd-project-researcher.md
    agents/gsd-research-synthesizer.md
    agents/gsd-roadmapper.md
    agents/gsd-verifier.md
    commands/gsd/ (entire directory)
  </files>
  <action>
    Delete all 11 GSD agent files (agents/gsd-*.md) and the entire commands/gsd/ directory (28 command files + 1 .bak backup).

    Commands:
    ```bash
    rm agents/gsd-*.md
    rm -rf commands/gsd/
    ```

    **KEEP these files** (they are custom skills, not GSD duplicates):
    - commands/commit.md
    - commands/squash-merge.md
    - commands/pr-review.md

    Verify agents/ directory is empty after deletion (it only contained GSD files). If empty, remove the directory:
    ```bash
    rmdir agents/ 2>/dev/null || true
    ```
  </action>
  <verify>
    ```bash
    # No GSD agents remain
    ls agents/gsd-* 2>/dev/null && echo "FAIL: GSD agents still exist" || echo "PASS"

    # No commands/gsd/ directory
    ls -d commands/gsd 2>/dev/null && echo "FAIL: commands/gsd still exists" || echo "PASS"

    # Custom skills preserved
    ls commands/commit.md commands/squash-merge.md commands/pr-review.md
    ```
  </verify>
  <done>All 11 GSD agent files deleted. The commands/gsd/ directory (28+ files) deleted. Custom skills (commit.md, squash-merge.md, pr-review.md) preserved in commands/.</done>
</task>

<task type="auto">
  <name>Task 2: Delete GSD hooks and block-sensitive.py, update settings.json</name>
  <files>
    hooks/gsd-statusline.js
    hooks/gsd-check-update.js
    hooks/block-sensitive.py
    settings.json
  </files>
  <action>
    **Step 1:** Update settings.json to remove the block-sensitive.py PreToolUse hook reference BEFORE deleting the script. Replace the PreToolUse array contents with an empty array:

    In settings.json, change:
    ```json
    "PreToolUse": [
      {
        "matcher": "Read|Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "python ~/.claude/hooks/block-sensitive.py"
          }
        ]
      }
    ]
    ```
    To:
    ```json
    "PreToolUse": []
    ```

    **Step 2:** Delete the three hooks:
    ```bash
    rm hooks/gsd-statusline.js
    rm hooks/gsd-check-update.js
    rm hooks/block-sensitive.py
    ```

    **KEEP post-tool-format.py** -- it is the working Ruff auto-format hook (Phase 4 will rebuild).

    Verify settings.json PostToolUse still references post-tool-format.py correctly.
  </action>
  <verify>
    ```bash
    # GSD hooks deleted
    ls hooks/gsd-* 2>/dev/null && echo "FAIL" || echo "PASS"

    # block-sensitive.py deleted
    ls hooks/block-sensitive.py 2>/dev/null && echo "FAIL" || echo "PASS"

    # post-tool-format.py preserved
    ls hooks/post-tool-format.py && echo "PASS" || echo "FAIL"

    # settings.json has empty PreToolUse
    grep -q '"PreToolUse": \[\]' settings.json && echo "PASS" || echo "FAIL"

    # settings.json PostToolUse still references post-tool-format.py
    grep -q 'post-tool-format.py' settings.json && echo "PASS" || echo "FAIL"

    # settings.json is valid JSON
    cat settings.json | python3 -m json.tool > /dev/null && echo "PASS: valid JSON" || echo "FAIL: invalid JSON"
    ```
  </verify>
  <done>GSD hooks (gsd-statusline.js, gsd-check-update.js) deleted. block-sensitive.py deleted. settings.json PreToolUse cleared. PostToolUse hook for post-tool-format.py intact.</done>
</task>

</tasks>

<verification>
After both tasks complete:

1. `ls agents/` should show no gsd-* files (or directory should not exist)
2. `ls commands/` should show only: commit.md, squash-merge.md, pr-review.md
3. `ls hooks/` should show only: post-tool-format.py
4. `cat settings.json | grep -A1 PreToolUse` should show empty array
5. `cat settings.json | grep post-tool-format` should show PostToolUse reference intact
</verification>

<success_criteria>
- Zero GSD agent files remain in the repo
- Zero GSD command files remain in the repo
- The commands/gsd/ directory does not exist
- block-sensitive.py is deleted and settings.json no longer references it
- Custom skills (commit.md, squash-merge.md, pr-review.md) are untouched
- post-tool-format.py hook is untouched
- settings.json is valid JSON with no broken references
</success_criteria>

<output>
After completion, create `.planning/phases/01-cleanup-and-deletion/01-01-SUMMARY.md`
</output>
