---
phase: 07-integration-and-polish
plan: 04
type: execute
wave: 4
depends_on: ["07-03"]
files_modified:
  - README.md
  - .env.example
autonomous: true

must_haves:
  truths:
    - "README covers overview, architecture diagram, installation, CLI usage (setup/deploy/project/status/list), .env reference, directory structure"
    - ".env.example documents all CLAUDE_* and GIT_* keys with descriptions and defaults"
    - "README is concise — no example terminal output, no marketing fluff"
  artifacts:
    - path: "README.md"
      provides: "Project documentation for semi-public audience"
      contains: "dotconfigs"
    - path: ".env.example"
      provides: "Documented environment variable reference"
      contains: "CLAUDE_DEPLOY_TARGET"
  key_links:
    - from: "README.md"
      to: ".env.example"
      via: "reference to .env.example for configuration details"
      pattern: "\\.env\\.example"
---

<objective>
Write README and polish .env.example as the final documentation deliverable.

Purpose: Makes the project approachable for the semi-public audience. README documents installation and usage. .env.example serves as the configuration reference. Completes the final Phase 7 requirement.
Output: README.md (rewritten), .env.example (polished with all keys)
</objective>

<execution_context>
@/Users/henrybaker/.claude/get-shit-done/workflows/execute-plan.md
@/Users/henrybaker/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/07-integration-and-polish/07-CONTEXT.md

@dotconfigs
@plugins/claude/setup.sh
@plugins/git/setup.sh
</context>

<tasks>

<task type="auto">
  <name>Task 1: Write README.md</name>
  <files>README.md</files>
  <action>
    Write a comprehensive but concise README for a semi-public audience. No marketing fluff, no example terminal output.

    **Sections (per user decision):**

    1. **Header + one-line description:** "dotconfigs" — single source of truth for dev configuration. Brief 2-3 sentence overview.

    2. **Architecture diagram:** ASCII diagram showing the three-command model and how they relate:
       - `setup` (wizard → .env), `deploy` (.env → global system config), `project` (per-repo local scaffolding)
       - Show the data flow: setup saves to .env, deploy reads .env and applies globally, project sets up per-repo files
       - Show what each plugin's deploy vs project does (Claude: symlinks to ~/.claude vs per-repo .claude/settings.json; Git: git config --global vs .git/hooks/)
       - Keep it as a code block diagram (ASCII art), not an image
       - This is a KEY section — the diagram should make the architecture immediately clear to a new reader

    3. **Installation:** Clone repo, run deploy (which creates PATH symlink). Note bash 3.2+ requirement. Mention macOS and Linux support.

    4. **Quick start:** 3-step: setup, deploy, verify. Just the commands, no screenshots.

    5. **Usage:** Subsections for each command:
       - `dotconfigs setup <plugin>` — runs interactive wizard, saves to .env
       - `dotconfigs deploy [plugin] [--dry-run] [--force]` — deploys configuration. No arg = all plugins. Explain flags briefly.
       - `dotconfigs project [plugin] [path]` — per-project configuration scaffolding. Can be run from within a project repo (auto-detects) or with explicit path.
       - `dotconfigs status [plugin]` — shows deployment state with drift detection
       - `dotconfigs list` — shows available plugins
       - `dotconfigs help [command]` — contextual help

    6. **Plugins:** Brief description of each:
       - **claude** — Claude Code configuration (CLAUDE.md, settings.json, hooks, skills)
       - **git** — Git configuration (identity, workflow settings, aliases, hooks)

    7. **Configuration:** Reference .env.example. Explain CLAUDE_* and GIT_* namespacing. Mention that setup wizard manages .env — manual editing optional.

    8. **Directory structure:** Show the tree (from ROADMAP.md target structure) with brief annotations.

    **Style:** British English in prose. Concise. No example terminal output per user decision. Use code blocks for commands only. No badges, no marketing.
  </action>
  <verify>
    1. README.md exists and is well-formed markdown
    2. Contains all required sections: overview, install, usage, plugins, configuration, directory structure
    3. No example terminal output
    4. References .env.example
    5. Mentions both macOS and Linux support
  </verify>
  <done>
    README.md covers overview, installation, usage for all commands (setup/deploy/project/status/list/help), plugin descriptions, configuration reference, and directory structure. Concise, semi-public appropriate.
  </done>
</task>

<task type="auto">
  <name>Task 2: Polish .env.example with all plugin keys</name>
  <files>.env.example</files>
  <action>
    Create/rewrite .env.example to document ALL configuration keys from both plugins.

    **Format:** Group by plugin with section headers. Each key gets a comment line explaining purpose and default/valid values.

    **CLAUDE_* keys** (from plugins/claude/setup.sh — read to find all keys):
    - CLAUDE_DEPLOY_TARGET — where to deploy Claude config (default: ~/.claude)
    - CLAUDE_SETTINGS_ENABLED — whether to deploy settings.json (true/false)
    - CLAUDE_MD_SECTIONS — space-separated list of CLAUDE.md sections to include
    - CLAUDE_HOOKS_ENABLED — space-separated list of hooks to deploy
    - CLAUDE_SKILLS_ENABLED — space-separated list of skills/commands to deploy
    - CLAUDE_HOOKS_CONF_PROFILE — hooks.conf profile name
    - CLAUDE_GSD_INSTALL — whether to install GSD framework (true/false)
    - CLAUDE_GIT_NAME — git identity name (may have been moved to GIT_*)
    - CLAUDE_GIT_EMAIL — git identity email (may have been moved to GIT_*)

    **GIT_* keys** (from plugins/git/setup.sh — read to find all keys):
    - GIT_USER_NAME — git identity name
    - GIT_USER_EMAIL — git identity email
    - GIT_PULL_REBASE — pull.rebase setting (true/false)
    - GIT_PUSH_DEFAULT — push.default setting
    - GIT_FETCH_PRUNE — fetch.prune setting (true/false)
    - GIT_INIT_DEFAULT_BRANCH — init.defaultBranch (e.g., main)
    - GIT_RERERE_ENABLED — rerere.enabled (true/false)
    - GIT_DIFF_ALGORITHM — diff.algorithm (patience/histogram/etc.)
    - GIT_HELP_AUTOCORRECT — help.autocorrect value
    - GIT_ALIASES_ENABLED — space-separated list of alias names
    - GIT_ALIAS_* — per-alias definitions (UNSTAGE, LAST, LG, etc.)
    - GIT_HOOKS_SCOPE — hooks deployment scope (project/global)
    - GIT_HOOK_PREPUSH_PROTECTION — pre-push hook mode (block/warn/off)

    **IMPORTANT:** Read both setup.sh files to discover the actual complete list of keys. The above is approximate — the definitive list comes from the source code.

    Use descriptive comments. Show sensible example values (not real credentials). Format at Claude's discretion per user decision.
  </action>
  <verify>
    1. .env.example exists and is parseable by bash `source`
    2. All CLAUDE_* keys from plugins/claude/setup.sh are documented
    3. All GIT_* keys from plugins/git/setup.sh are documented
    4. Each key has a descriptive comment
    5. Example values are sensible defaults
  </verify>
  <done>
    .env.example documents every CLAUDE_* and GIT_* configuration key with descriptions, default values, and valid options. Grouped by plugin with clear section headers.
  </done>
</task>

</tasks>

<verification>
1. README.md is comprehensive, concise, and covers all required sections
2. .env.example documents all plugin keys
3. Both files are well-formatted
4. README references .env.example for configuration details
</verification>

<success_criteria>
- README documents installation, all CLI commands, plugins, and configuration
- .env.example has every CLAUDE_* and GIT_* key with descriptions
- Documentation is concise and semi-public appropriate
- No example terminal output in README
</success_criteria>

<output>
After completion, create `.planning/phases/07-integration-and-polish/07-04-SUMMARY.md`
</output>
