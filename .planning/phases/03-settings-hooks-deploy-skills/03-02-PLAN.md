---
phase: 03-settings-hooks-deploy-skills
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - templates/claude-md/01-communication.md
  - templates/claude-md/02-simplicity.md
  - templates/claude-md/03-documentation.md
  - templates/claude-md/04-git.md
  - templates/claude-md/05-code-style.md
autonomous: true

must_haves:
  truths:
    - "CLAUDE.md can be assembled from individual section templates"
    - "Each template is a self-contained section with its own heading"
    - "Concatenating all templates produces content equivalent to current CLAUDE.md"
    - "Templates are numbered for deterministic ordering"
  artifacts:
    - path: "templates/claude-md/01-communication.md"
      provides: "Communication style + language + autonomy sections"
      contains: "Communication"
    - path: "templates/claude-md/02-simplicity.md"
      provides: "Simplicity First rules"
      contains: "Simplicity First"
    - path: "templates/claude-md/03-documentation.md"
      provides: "Documentation guidelines"
      contains: "Documentation"
    - path: "templates/claude-md/04-git.md"
      provides: "Git workflow section"
      contains: "Git"
    - path: "templates/claude-md/05-code-style.md"
      provides: "Code style preferences"
      contains: "Code Style"
  key_links:
    - from: "templates/claude-md/*.md"
      to: "CLAUDE.md"
      via: "concatenation by deploy.sh build_claude_md function"
      pattern: "cat.*templates/claude-md"
---

<objective>
Split the current CLAUDE.md into section templates that deploy.sh can assemble with .env-driven toggles.

Purpose: The CLAUDE.md build system is a locked user decision — CLAUDE.md is the ONE exception to symlinks-only, built from toggleable sections controlled by .env flags. This plan creates those section templates from the existing 42-line CLAUDE.md.

Output: 5 section template files in templates/claude-md/ that, when concatenated, produce the current CLAUDE.md content.
</objective>

<execution_context>
@/Users/henrybaker/.claude/get-shit-done/workflows/execute-plan.md
@/Users/henrybaker/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@CLAUDE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Split CLAUDE.md into section templates</name>
  <files>
    templates/claude-md/01-communication.md
    templates/claude-md/02-simplicity.md
    templates/claude-md/03-documentation.md
    templates/claude-md/04-git.md
    templates/claude-md/05-code-style.md
  </files>
  <action>
Create `templates/claude-md/` directory and split the current CLAUDE.md (42 lines) into 5 section templates. Each template is a self-contained section that can be independently toggled.

**01-communication.md** — Communication Style + Language + Autonomy sections (lines 1-15 of current CLAUDE.md):
```markdown
## Communication Style

- Concise during execution, detailed when asked. Ask questions freely if unclear or better alternatives exist.
- Brief one-line updates; skip preamble, report results only.
- Brief error updates, then try alternatives.
- After completion, explain work and how it fits the wider architecture.
- Include diagrams where relevant.

## Language

- British English (e.g., "colour", "analyse") in prose only. American English in code, variables, functions, APIs.

## Autonomy & Decision Making

- Always ask when requirements are ambiguous — don't guess on important decisions. For low-stakes work, make reasonable assumptions and mention them.
```

**02-simplicity.md** — Simplicity First rules (lines 17-22):
```markdown
## Simplicity First

- Solve only what was asked -- no premature abstractions (only generalise at 3+ similar implementations)
- Don't add backwards-compatibility shims when code can just change
- Don't build for hypothetical future requirements or "just in case" configurability
- Validate at system edges only -- trust internal code
```

**03-documentation.md** — Documentation guidelines (lines 24-28):
```markdown
## Documentation

- Don't create ad-hoc .md files (NOTES.md, WORK_PLAN.md, etc.) unless explicitly asked
- Use hierarchical CLAUDE.md files for large project directories
- Use `.git/info/exclude` for project CLAUDE.md files, not `.gitignore`
```

**04-git.md** — Git workflow (lines 30-36):
```markdown
## Git

Workflow: Feature branches (`feature/*`, `fix/*`, `refactor/*`, `docs/*`) + squash merge to main. Commit freely on branches (WIP, notes, experiments fine), squash merge with clean conventional commit, delete branch. Use `/commit` and `/squash-merge`.

Commits (main/squash): `type(scope): description` -- types: feat, fix, docs, refactor, test. Subject <72 chars, imperative mood. No AI attribution.

Exclusions: Add CLAUDE.md and .claude/ to `.git/info/exclude` in projects (not .gitignore).
```

**05-code-style.md** — Code style (lines 38-42):
```markdown
## Code Style

- Python preferences: `pathlib.Path` over `os.path`, `X | None` over `Optional[X]`, f-strings, 3.10+ type hint syntax
- Ruff auto-formats via PostToolUse hook -- don't manually review formatting
```

Each file should end with a single trailing newline (no blank lines between sections — deploy.sh build function adds those).

The content must be EXACTLY the current CLAUDE.md content, just split into files. Do not edit, rephrase, or add content. The Phase 2 work optimised these lines — preserve them verbatim.
  </action>
  <verify>
Verify templates concatenate to match current CLAUDE.md:
```bash
cat templates/claude-md/*.md > /tmp/assembled.md
diff CLAUDE.md /tmp/assembled.md
```

If diff shows only whitespace differences (trailing newlines between sections), that's acceptable. The key content must be identical.

Count total lines: `wc -l templates/claude-md/*.md` — should sum to approximately 42 lines.

Check file ordering: `ls templates/claude-md/` — should show 01 through 05 in order.
  </verify>
  <done>
5 section templates exist in templates/claude-md/, numbered 01-05.
Concatenating all templates produces content equivalent to current CLAUDE.md.
No content was added, removed, or modified from the Phase 2 optimised text.
  </done>
</task>

</tasks>

<verification>
- `ls templates/claude-md/*.md | wc -l` returns 5
- Content equivalence verified via diff or visual comparison
- Each template has its own `## Heading`
- Templates are numbered for deterministic ordering
</verification>

<success_criteria>
- CLAUDE.md sections split into 5 independently toggleable templates
- Content is verbatim from current CLAUDE.md (no edits)
- Templates ready for deploy.sh build_claude_md function to assemble
</success_criteria>

<output>
After completion, create `.planning/phases/03-settings-hooks-deploy-skills/03-02-SUMMARY.md`
</output>
