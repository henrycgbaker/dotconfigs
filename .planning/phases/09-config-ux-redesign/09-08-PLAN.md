---
phase: 09-config-ux-redesign
plan: 08
type: execute
wave: 1
depends_on: []
files_modified:
  - README.md
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "README says dotconfigs is primary CLI, dots is convenience symlink"
    - "Architecture diagram shows dotconfigs CLI (not dots)"
    - "All command examples use dotconfigs (not dots)"
    - "Data flow section uses correct command names (global-configs, project-configs)"
    - "Directory tree matches actual filesystem layout with annotations"
    - "README links to docs/ for additional documentation"
  artifacts:
    - path: "README.md"
      provides: "Accurate, up-to-date project documentation"
  key_links:
    - from: "README.md"
      to: "docs/"
      via: "markdown link"
      pattern: "\\[.*\\]\\(docs/"
---

<objective>
Overhaul README.md to fix stale naming, command references, architecture diagram, and directory tree.

Purpose: The README currently says `dots` is primary (it's the opposite — `dotconfigs` is primary, `dots` is a convenience symlink). Command names are outdated (`dots setup` instead of `dotconfigs global-configs`), the architecture diagram shows old names, and the directory tree has inaccuracies.
Output: Accurate README reflecting the current CLI naming, command structure, and filesystem layout.
</objective>

<execution_context>
@/Users/henrybaker/.claude/get-shit-done/workflows/execute-plan.md
@/Users/henrybaker/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@README.md
@dotconfigs
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix CLI naming and command references throughout README</name>
  <files>README.md</files>
  <action>
    Read README.md fully and apply these changes:

    **1. Fix the Note on line 7:**
    Replace:
    ```
    **Note:** The CLI command is `dots` (shorter, more ergonomic). The `dotconfigs` command still works for backwards compatibility.
    ```
    With:
    ```
    **Note:** `dots` is available as a convenience symlink to `dotconfigs`.
    ```

    **2. Update architecture diagram (lines 13-49):**
    Change `dots CLI` to `dotconfigs CLI` in the top box.
    Update the command names in the diagram — the current three-command model description on line 11 says "setup, deploy, project" but Phase 9 renamed setup to global-configs and project to project-configs. Update the diagram boxes and descriptions:
    - `setup` box → `global-configs` (with label "Wizard prompts / Saves to .env")
    - `project` box → `project-configs` (with label "Per-repo overrides / Shows [G]lobal values")
    - `deploy` stays the same
    Also update line 11 text to: "The system follows a three-command model: **global-configs** (wizard), **deploy** (apply config), and **project-configs** (per-repo overrides)."

    **3. Update data flow section (lines 51-54):**
    Replace all `dots` with `dotconfigs` and update command names:
    ```
    1. `dotconfigs global-configs <plugin>` runs interactive wizard, saves configuration to `.env`
    2. `dotconfigs deploy [plugin]` reads `.env` and applies globally (symlinks, git config)
    3. `dotconfigs project-configs [plugin]` sets up per-repository files (`.claude/`, `.git/hooks/`)
    ```

    **4. Update Installation section (lines 56-64):**
    Change "run deploy to add `dots` to your PATH" to "run deploy to add `dotconfigs` to your PATH".
    Change `./dots deploy` to `./dotconfigs deploy`.

    **5. Update Quick Start section (lines 68-76):**
    Replace all `dots` commands with `dotconfigs` and update command names:
    ```bash
    dotconfigs global-configs claude    # Interactive wizard for Claude Code
    dotconfigs deploy claude            # Apply configuration globally
    dotconfigs status                   # Verify deployment
    ```

    **6. Update Usage section headers and examples (lines 78-154):**
    Replace ALL `dots` with `dotconfigs` in section headers, code blocks, and prose.
    Update command names: `setup` → `global-configs`, `project` → `project-configs` in the section headers, examples, and descriptions.
    Keep `deploy`, `status`, `list`, and `help` command names unchanged.

    The Usage subsections should become:
    - `### dotconfigs global-configs \<plugin\>` (was `dots setup`)
    - `### dotconfigs deploy [plugin] [--dry-run] [--force]` (was `dots deploy`)
    - `### dotconfigs project-configs [plugin] [path]` (was `dots project`)
    - `### dotconfigs status [plugin]` (was `dots status`)
    - `### dotconfigs list` (was `dots list`)
    - `### dotconfigs help [command]` (was `dots help`)

    **7. Update Plugins section (line 173):**
    Remove "and git identity" from Claude plugin configuration description — git identity was moved to git plugin in Phase 9.

    **8. Update Configuration section (lines 194-231):**
    Replace any remaining `dots` references with `dotconfigs`.
    The `dotconfigs setup` on line 211 should become `dotconfigs global-configs`.
    The `dotconfigs project` on lines 219, 222, 223 should become `dotconfigs project-configs`.

    **9. Add docs link after Configuration section (before Directory Structure):**
    Add: `For detailed documentation on Claude Code configuration types (agents, skills, hooks, settings), see [docs/usage-guide.md](docs/usage-guide.md).`
  </action>
  <verify>
    Run: `grep -c 'dots ' README.md` — count should be very low (only the one mention of "dots is available as a convenience symlink" and possibly the `.githooks/config` discovery path).
    Run: `grep -c 'dotconfigs' README.md` — should be substantially higher than before.
    Run: `grep 'dots setup\|dots deploy\|dots project\|dots status\|dots list\|dots help' README.md` — should return 0 matches (all changed to dotconfigs).
    Run: `grep 'usage-guide' README.md` — should return 1 match (the docs link).
  </verify>
  <done>All command references use `dotconfigs`. CLI naming note correctly identifies `dotconfigs` as primary and `dots` as symlink. Command names updated to `global-configs` and `project-configs`.</done>
</task>

<task type="auto">
  <name>Task 2: Fix directory tree to match actual filesystem layout</name>
  <files>README.md</files>
  <action>
    Replace the Directory Structure section (lines 233-269) with an accurate tree that matches the actual filesystem. Add annotations for key files/directories.

    The actual lib/ files are: `colours.sh`, `config.sh`, `discovery.sh`, `symlinks.sh`, `validation.sh`, `wizard.sh` (NOT cli.sh, deployment.sh, output.sh as currently shown).

    The `dots` symlink should be shown.

    The `settings.json` at root is gitignored (personal instance).

    The `hooks-conf/` subdirectory in claude templates does not exist — the conf template is directly in `templates/`.

    The `scripts/` directory also has `registry-scan.sh`.

    Replace with this corrected tree:

    ```
    dotconfigs/
    ├── dotconfigs                 # CLI entry point (primary)
    ├── dots                       # Convenience symlink → dotconfigs
    ├── .env                       # Configuration store (gitignored, wizard-managed)
    ├── .env.example               # Configuration reference (SSOT for available keys)
    ├── settings.json              # Claude global settings (gitignored, assembled by deploy)
    ├── lib/                       # Shared bash libraries (sourced, no shebangs)
    │   ├── colours.sh             # TTY-aware colour output, G/L badge helpers
    │   ├── config.sh              # Configuration hierarchy and variable reference
    │   ├── discovery.sh           # Asset discovery (sections, hooks, skills)
    │   ├── symlinks.sh            # Symlink management, backup, conflict resolution
    │   ├── validation.sh          # Common validation helpers (is_git_repo, path_exists)
    │   └── wizard.sh              # Wizard helpers (prompts, y/n, save, toggle, edit mode)
    ├── plugins/
    │   ├── claude/
    │   │   ├── setup.sh           # Claude global-configs wizard
    │   │   ├── deploy.sh          # Claude deployment logic (symlinks, assembly)
    │   │   ├── project.sh         # Per-repo scaffolding with G/L indicators
    │   │   ├── DESCRIPTION        # Plugin metadata
    │   │   ├── hooks/             # Claude Code hooks
    │   │   │   ├── block-destructive.sh   # PreToolUse guard
    │   │   │   └── post-tool-format.py    # PostToolUse Ruff formatter
    │   │   ├── commands/          # Skills (/commit, /squash-merge, /pr-review, /simplicity-check)
    │   │   └── templates/
    │   │       ├── claude-md/     # CLAUDE.md section templates
    │   │       ├── settings/      # settings.json base + language rule templates
    │   │       └── claude-hooks.conf  # Hook config template
    │   └── git/
    │       ├── setup.sh           # Git global-configs wizard
    │       ├── deploy.sh          # Git deployment logic (git config, aliases)
    │       ├── project.sh         # Per-repo hooks + optional identity
    │       ├── DESCRIPTION        # Plugin metadata
    │       ├── hooks/             # Git hooks (7: commit-msg, pre-commit, pre-push, etc.)
    │       └── templates/
    │           └── git-hooks.conf # Per-project hook config template
    ├── scripts/                   # Utility scripts
    │   ├── generate-roster.sh     # Auto-generates docs/ROSTER.md from hook metadata
    │   └── registry-scan.sh       # Registry scanning utility
    └── docs/                      # Additional documentation
        ├── ROSTER.md              # Complete hook/command/config reference (generated)
        └── usage-guide.md         # Claude Code configuration guide
    ```

    Ensure no trailing whitespace issues.
  </action>
  <verify>
    Run: `grep 'cli.sh\|deployment.sh\|output.sh' README.md` — should return 0 matches (old incorrect names removed).
    Run: `grep 'colours.sh\|symlinks.sh\|validation.sh\|wizard.sh' README.md` — should return matches (correct names present).
    Run: `grep 'dots.*symlink\|symlink.*dotconfigs' README.md` — should show the dots symlink entry.
    Run: `grep 'usage-guide.md' README.md` — should return matches (in tree and docs link).
  </verify>
  <done>Directory tree matches actual filesystem. Annotations clarify file roles (gitignored, generated, wizard-managed, SSOT). No incorrect file names remain.</done>
</task>

</tasks>

<verification>
1. `grep -c '^dots ' README.md` returns 0 (no standalone `dots` as command prefix in headers)
2. `grep 'dots setup' README.md` returns 0 matches
3. `grep 'dots deploy' README.md` returns 0 matches
4. `grep 'dots project ' README.md` returns 0 matches (note space to avoid matching dotconfigs project-configs)
5. `grep 'cli.sh\|deployment.sh\|output.sh' README.md` returns 0 matches
6. `grep 'global-configs' README.md` returns multiple matches
7. `grep 'project-configs' README.md` returns multiple matches
8. `grep 'usage-guide' README.md` returns at least 1 match
</verification>

<success_criteria>
- README correctly identifies `dotconfigs` as primary CLI, `dots` as convenience symlink
- All command examples use `dotconfigs` with correct command names
- Architecture diagram reflects current three-command model
- Directory tree matches actual filesystem with accurate file names and annotations
- Link to docs/ added for additional documentation
</success_criteria>

<output>
After completion, create `.planning/phases/09-config-ux-redesign/09-08-SUMMARY.md`
</output>
